- hosts: localhost
  connection: local
  become: true

  tasks:
    - name: Install Flatpak packages
      ansible.builtin.flatpak:
        name:
          - com.brave.Browser
          - com.discordapp.Discord
          - com.spotify.Client
          - com.jetbrains.IntelliJ-IDEA-Ultimate
          - com.getpostman.Postman
          - org.wezfurlong.wezterm
          - net.kuribo64.melonDS
          - us.zoom.Zoom
          - com.obsproject.Studio
          - com.mattjakeman.ExtensionManager
        state: present

    - name: Install DNF packages
      ansible.builtin.dnf:
        name:
          - gnome-tweaks
          - vlc
          - alacritty
          - htop
          - papirus-icon-theme
          - fastfetch
          - neovim
          - bat
          - gnome-extensions-app
          - jetbrains-mono-fonts-all
          - cascadia-fonts-all
          - gparted
          - pip
          - fzf
          - eza
          - maven
          - sassc
        state: present

    - name: Install Group packages
      ansible.builtin.dnf:
        name: 
          - "@Multimedia"
          - "@Development Tools"
        state: present

    - name: Remove unwanted GNOME software
      ansible.builtin.dnf:
        name:
        #  - firefox // Wait for dnf5 compatibility
          - gnome-tour
          - totem
          - mediawriter
          - yelp
          - gnome-contacts
          - rhythmbox
          - gnome-boxes
        state: absent
